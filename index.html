<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support St. Jude - 50 States, 50 Days, 1 Mission</title>
    
    <!-- Google Fonts for modern typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- Basic Setup & Variables --- */
        :root {
            --color-primary: #0056b3; /* St. Jude inspired blue */
            --color-secondary: #1a2c4e; /* Darker blue for text */
            --color-action: #28a745; /* Green for donation buttons */
            --color-light-bg: #fdfdff;
            --font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        /* --- Page Layout & Background --- */
        body {
            font-family: var(--font-family);
            background-color: var(--color-light-bg);
            color: var(--color-secondary);
            margin: 0;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- Main Content Container --- */
        .container {
            max-width: 700px;
            width: 100%;
            text-align: center;
        }
        
        /* --- Header Section --- */
        header {
            margin-bottom: 40px;
        }
        
        .charity-name {
            font-size: 1.1em;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        .main-headline {
            font-size: clamp(2em, 8vw, 3.5em); /* Responsive font size */
            font-weight: 900;
            margin: 0;
            line-height: 1.1; /* Adjust line height for two lines */
            letter-spacing: -2px;
        }

        /* --- Fundraising Total Section --- */
        .total-section {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 86, 179, 0.08);
            margin-bottom: 40px;
        }

        #total-raised {
            font-size: clamp(3.5em, 15vw, 6em); /* Responsive font size */
            font-weight: 900;
            color: var(--color-primary);
            margin: 0;
            line-height: 1;
        }
        
        .total-label {
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--color-primary);
            opacity: 0.8;
            margin-top: 10px;
        }

        /* --- Call to Action Button --- */
        .cta-button {
            display: inline-block;
            background-color: var(--color-action);
            color: white;
            padding: 20px 40px;
            font-size: 1.4em;
            font-weight: 700;
            text-decoration: none;
            border-radius: 12px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin-top: 25px;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(40, 167, 69, 0.4);
        }

        /* --- Mission Section --- */
        .mission-section {
            margin: 40px 0;
            padding: 0 10px;
            line-height: 1.8; 
            font-size: 1.2em; 
        }
        
        .mission-section strong {
            color: var(--color-primary); 
        }

        /* Style for the inspiration link */
        .mission-section a {
            color: var(--color-primary);
            font-weight: 700;
            text-decoration: none;
        }
        .mission-section a:hover {
            text-decoration: underline;
        }

        /* --- Footer Section --- */
        footer {
            margin-top: 50px;
            border-top: 1px solid #e0e0e0;
            padding-top: 30px;
            width: 100%;
        }
        
        .footer-text {
            font-size: 1.2em;
            font-weight: 700;
            margin-bottom: 20px;
        }

    </style>
</head>
<body>
    <div class="container" id="main-container">

        <!-- SECTION 1: The Hero -->
        <header>
            <p class="charity-name">A Fundraiser for St. Jude Children's Research Hospital®</p>
            <h1 class="main-headline">50 STATES.<br>50 DAYS. 1 MISSION.</h1>
        </header>

        <main>
            <section class="total-section">
                <h2 id="total-raised">Loading...</h2>
                <p class="total-label">Raised for St. Jude</p>
                <!-- Donation link has been updated -->
                <a href="https://square.link/u/Fy4J7D6G" target="_blank" rel="noopener noreferrer" class="cta-button">DONATE NOW</a>
            </section>

            <!-- SECTION 2: The Mission -->
            <section class="mission-section">
                <p>
                    100% inspired by <a href="https://www.youtube.com/@ryan" target="_blank" rel="noopener noreferrer">Ryan Trahan</a> and his wife Haley Pham (who raised over $10 million for charity), I am self-funding a journey to all 50 U.S. states in 50 days. I'm dedicating this mobile fundraiser to the incredible, life-saving work of St. Jude, <strong>because families never receive a bill for treatment, travel, housing, or food — so they can focus on helping their child live.</strong>
                </p>
            </section>

        </main>
        
        <!-- SECTION 3: The Final Ask (Footer) -->
        <footer>
            <p class="footer-text">Ready to be part of the mission?</p>
            <!-- Donation link has been updated -->
            <a href="https://square.link/u/Fy4J7D6G" target="_blank" rel="noopener noreferrer" class="cta-button">MAKE A DONATION</a>
        </footer>
    </div>

    <!-- JavaScript for fetching data and animating the total -->
    <script>
        // Your live "SUM-only" Google Sheet URL is connected.
        const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSPeAHz8TtmdotclMBHxEt22hn5-KdII-9Fh_hy636XUcxqmSjN5f0lfYhrGP87MXvsU03ThAAWMsck/pub?gid=1404453510&single=true&output=csv';
        
        function animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const currentValue = progress * (end - start) + start;
                
                obj.innerHTML = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD'
                }).format(currentValue);

                if (progress < 1) {
                    window.requestAnimationFrame(step);
                } else {
                     obj.innerHTML = new Intl.NumberFormat('en-US', {
                        style: 'currency',
                        currency: 'USD'
                    }).format(end);
                }
            };
            window.requestAnimationFrame(step);
        }

        function fetchData() {
            const totalElement = document.getElementById('total-raised');

            fetch(sheetUrl)
                .then(response => {
                    if (!response.ok) throw new Error('Network response was not ok');
                    return response.text();
                })
                .then(csvText => {
                    // FIX: Make the code more robust. It now takes the first line of the CSV
                    // to ensure it only gets one number, even if the sheet has extra lines.
                    const firstLine = csvText.split('\n')[0].trim();
                    const totalInCents = parseFloat(firstLine);
                    const totalInDollars = totalInCents / 100;

                    if (!isNaN(totalInDollars)) {
                        animateValue(totalElement, 0, totalInDollars, 1500);
                    } else {
                        throw new Error("Fetched data is not a number.");
                    }
                })
                .catch(error => {
                    console.error('Error fetching or processing data:', error);
                    totalElement.innerText = '$0.00';
                });
        }

        document.addEventListener('DOMContentLoaded', fetchData);
    </script>
</body>
</html>
